<div class="course-detail-container" *ngIf="course; else loading">
  <!-- Hero Header -->
  <div class="hero-section">
    <div class="hero-content">
      <div class="breadcrumb-wrapper">
        <a routerLink="/courses" class="breadcrumb-link">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z" fill="currentColor"/>
          </svg>
          <span>All Courses</span>
        </a>
      </div>
      
      <h1 class="hero-title">{{ course.title }}</h1>
      <p class="hero-description">{{ course.description }}</p>
      
      <div class="hero-meta">
        <div class="meta-item">
          <div class="instructor-avatar-large">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
              <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
            </svg>
          </div>
          <div>
            <div class="meta-label">Instructor</div>
            <div class="meta-value">{{ course.instructor?.name || 'Expert Instructor' }}</div>
          </div>
        </div>
        
        <div class="meta-item">
          <div class="meta-icon">üìö</div>
          <div>
            <div class="meta-label">Lessons</div>
            <div class="meta-value">{{ course.lessons?.length || 0 }}</div>
          </div>
        </div>
        
      </div>
    </div>
    
    <div class="hero-image">
      <img [src]="course.thumbnail || 'https://via.placeholder.com/600x400/667eea/ffffff?text=Course+Image'" [alt]="course.title">
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="main-container">
    <div class="content-wrapper">
      <!-- Lessons Section -->
      <div class="lessons-section-card">
        <div class="card-header">
          <div>
            <h2 class="card-title">Course Curriculum</h2>
            <p class="card-subtitle">Master everything step by step</p>
          </div>
          <div class="card-header-actions">
            <span class="lessons-badge">{{ course.lessons?.length || 0 }} Lessons</span>
            <button *ngIf="isInstructor" class="btn-add-lesson" (click)="addLesson()">
              <svg width="18" height="18" fill="none">
                <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
              </svg>
              Add Lesson
            </button>
          </div>
        </div>
        
        <div class="lessons-grid">
          <div class="lesson-card" 
               *ngFor="let lesson of course.lessons || []; let i = index" 
               [class.locked]="!isInstructor && !isLessonAccessible(lesson.id)"
               (click)="navigateToLesson(lesson.id)">
            <div class="lesson-card-header">
              <div class="lesson-number-badge">{{ i + 1 }}</div>
              <div class="lesson-status-icon" 
                   [class.completed]="isLessonCompleted(lesson.id)"
                   [class.locked]="!isInstructor && !isLessonAccessible(lesson.id)">
                <!-- Completed Icon -->
                <svg *ngIf="isLessonCompleted(lesson.id)" width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z" fill="currentColor"/>
                </svg>
                <!-- Locked Icon -->
                <svg *ngIf="!isInstructor && !isLessonAccessible(lesson.id)" width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M18 8H17V6C17 3.24 14.76 1 12 1S7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 3C13.66 3 15 4.34 15 6V8H9V6C9 4.34 10.34 3 12 3ZM18 20H6V10H18V20Z" fill="currentColor"/>
                </svg>
              </div>
            </div>
            <div class="lesson-card-content">
              <h4 class="lesson-card-title">{{ lesson.title }}</h4>
              <p class="lesson-card-description">{{ lesson.description || 'Watch and learn from this comprehensive lesson.' }}</p>
            </div>
            <div class="lesson-card-footer">
              <span class="lesson-icon">üé•</span>
              <span class="lesson-duration">{{ formatDuration(lesson.videoDuration) }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Enrollment Card -->
      <div class="enrollment-card" *ngIf="!isInstructor">
        <div class="enroll-header">
          <h3>Start Learning Today</h3>
        </div>
        
        <div class="benefits">
          <div class="benefit-item">
            <div class="benefit-icon">‚úÖ</div>
            <span>Lifetime access to all lessons</span>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">üèÜ</div>
            <span>Certificate of completion</span>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">üì±</div>
            <span>Mobile & desktop access</span>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">üîÑ</div>
            <span>Learn at your own pace</span>
          </div>
        </div>
        
        <button class="btn-enroll" 
                (click)="enrollInCourse()"
                [disabled]="isEnrolling">
          <span *ngIf="!isEnrolling">
            Enroll Now
          </span>
          <span *ngIf="isEnrolling">
            <span class="btn-spinner"></span>
            Enrolling...
          </span>
        </button>
        
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gradient-to-b from-gray-50 to-white border-t border-gray-200 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h3 class="text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4">
          SkillHub
        </h3>
        <p class="text-gray-600 mb-6 max-w-2xl mx-auto">
          Empowering learners worldwide with expert-led online courses. Build skills that shape your future.
        </p>
      </div>
      
      <div class="border-t border-gray-200 pt-8 text-center">
        <p class="text-gray-600 text-sm">&copy; 2025 SkillHub. All rights reserved.</p>
      </div>
    </div>
  </footer>
</div>





<ng-template #loading>
  <div class="loading">
    <div class="spinner"></div>
    <p>Loading course details...</p>
  </div>
</ng-template>
